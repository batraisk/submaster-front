<nz-card [nzBorderless]="true" class="{{customClass}} container-card" [nzBodyStyle]="{padding: '24px'}" *ngIf="stats">
  <div class="title">
    <img src="assets/images/icons/back.svg" alt="" (click)="close()">
    {{ 'STATISTICS.TOTAL STATS' | translate }}
  </div>
  <nz-space nzDirection="vertical" [nzSize]="16" style="width:100%">
    <nz-select *nzSpaceItem [(ngModel)]="mode">
      <nz-option nzValue="date" nzLabel="{{ 'DATE TIME.DATE' | translate }}"></nz-option>
      <nz-option nzValue="week" nzLabel="{{ 'DATE TIME.WEEK' | translate }}"></nz-option>
      <nz-option nzValue="month" nzLabel="{{ 'DATE TIME.MONTH' | translate }}"></nz-option>
      <nz-option nzValue="year" nzLabel="{{ 'DATE TIME.YEAR' | translate }}"></nz-option>
    </nz-select>

    <nz-date-picker (ngModelChange)="changeStateRange($event)" [(ngModel)]="date" *nzSpaceItem [nzMode]="mode"></nz-date-picker>
  </nz-space>

  <div class="mt-5">
    <h1>{{ 'STATISTICS.CLICKS' | translate }}</h1>
    <div class="w-100 d-flex">
      <div class="graph-container" style="width: 200px">
        <app-stats-graph countName="{{ 'STATISTICS.CLICKS' | translate }}" [data]="stats.clicks.data" dataName="clicks" [height]="statHeight" [width]="statWidth"></app-stats-graph>
      </div>
      <div style="text-align:center; flex-grow: 2; display: flex; justify-content: center; align-items: center">
        <div style="position: relative; min-width: 89px; text-align: right;">
          <span class="total-count">{{stats.clicks.total_count}}</span>
          <div style="position: absolute; right: 0" class="trend-value {{stats.clicks.trendDirection}}">
            <i *ngIf="stats.clicks && stats.clicks.trend !== 0" nz-icon nzType="caret-up" nzTheme="outline"></i>{{stats.clicks.trend}}%
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-5">
    <h1>{{ 'STATISTICS.SUBSCRIBERS' | translate }}</h1>
    <div class="w-100 d-flex">
      <div class="graph-container" style="width: 200px">
        <app-stats-graph countName="{{ 'STATISTICS.SUBSCRIBERS' | translate }}" [data]="stats.subscribers.data" dataName="subscribers" [height]="statHeight" [width]="statWidth"></app-stats-graph>
      </div>
      <div style="text-align:center; flex-grow: 2; display: flex; justify-content: center; align-items: center">
        <div style="position: relative; min-width: 89px; text-align: right;">
          <span class="total-count">{{stats.subscribers.total_count}}</span>
          <div style="position: absolute; right: 0" class="trend-value {{stats.subscribers.trendDirection}}">
            <i *ngIf="stats.clicks && stats.subscribers.trend !== 0" nz-icon nzType="caret-up" nzTheme="outline"></i>{{stats.subscribers.trend}}%
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-5">
    <h1>{{ 'STATISTICS.CTR' | translate }}</h1>
    <div class="w-100 d-flex">
      <div class="graph-container" [ngStyle]="{width: statWidth + 'px'}">
        <app-stats-graph countName="{{ 'STATISTICS.CTR' | translate }}" [data]="stats.ctr.data" dataName="ctr" [height]="statHeight" [width]="statWidth"></app-stats-graph>
      </div>
      <div style="text-align:center; flex-grow: 2; display: flex; justify-content: center; align-items: center">
        <div style="position: relative; min-width: 89px; text-align: right;">
          <span class="total-count">{{stats.ctr.total_count}}%</span>
          <div style="position: absolute; right: 0" class="trend-value {{stats.ctr.trendDirection}}">
            <i *ngIf="stats.clicks && stats.ctr.trend !== 0" nz-icon nzType="caret-up" nzTheme="outline"></i>{{stats.ctr.trend}}%
          </div>
        </div>
      </div>
    </div>
  </div>

</nz-card>
